{"ast":null,"code":"var _jsxFileName = \"/Users/liuyanjun/therapy_agent/frontend/src/TestChat.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Chatbot } from 'react-chatbot-kit';\nimport { createChatBotMessage } from 'react-chatbot-kit';\nimport MessageParser from './MessageParser';\nimport ActionProvider from './ActionProvider';\nimport './App.css'; // ç®€åŒ–çš„é…ç½®ç”¨äºæµ‹è¯•\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst testConfig = {\n  botName: \"TestBot\",\n  initialMessages: [createChatBotMessage(\"ä½ å¥½ï¼æˆ‘æ˜¯æµ‹è¯•æœºå™¨äººã€‚\", {\n    withAvatar: true,\n    delay: 0\n  }), createChatBotMessage(\"ä»Šå¤©æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ\", {\n    withAvatar: true,\n    delay: 1500\n  })],\n  state: {\n    userState: 1,\n    sessionID: \"test_session_123\",\n    username: \"test_user\",\n    inputType: [\"open_text\"],\n    currentOptionToShow: null,\n    protocols: [],\n    askingForProtocol: false,\n    initialChoices: [],\n    messages: []\n  },\n  customComponents: {\n    header: () => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        height: '15px',\n        fontFamily: 'Trebuchet MS',\n        fontSize: \"1em\",\n        textAlign: \"center\",\n        color: '#fff',\n        paddingTop: '1em',\n        paddingBottom: '1em'\n      },\n      children: \"TestBot\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 19\n    }, this)\n  },\n  widgets: [{\n    widgetName: \"YesNo\",\n    widgetFunc: props => {\n      console.log('YesNo widget props:', props);\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: '10px',\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => props.actionProvider.handleButtons(props.state.userState, props.state.sessionID, \"Yes\", [\"yes\", \"no\"]),\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => props.actionProvider.handleButtons(props.state.userState, props.state.sessionID, \"No\", [\"yes\", \"no\"]),\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this);\n    },\n    mapStateToProps: [\"userState\", \"sessionID\"]\n  }]\n};\n\nconst TestChat = () => {\n  _s();\n\n  const [chatConfig, setChatConfig] = useState(testConfig);\n  useEffect(() => {\n    console.log('TestChat component mounted');\n    console.log('Chat config:', chatConfig);\n  }, [chatConfig]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      backgroundColor: '#f5f5f5'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '20px',\n        backgroundColor: 'white',\n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n        zIndex: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83E\\uDDEA \\u804A\\u5929\\u673A\\u5668\\u4EBA\\u6D4B\\u8BD5\\u9875\\u9762\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u8FD9\\u662F\\u4E00\\u4E2A\\u7B80\\u5316\\u7684\\u6D4B\\u8BD5\\u9875\\u9762\\uFF0C\\u7528\\u4E8E\\u9A8C\\u8BC1react-chatbot-kit\\u662F\\u5426\\u6B63\\u5E38\\u5DE5\\u4F5C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u6D4B\\u8BD5\\u4FE1\\u606F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u7528\\u6237ID: \", chatConfig.state.userState]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u4F1A\\u8BDDID: \", chatConfig.state.sessionID]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u7528\\u6237\\u540D: \", chatConfig.state.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u8F93\\u5165\\u7C7B\\u578B: \", JSON.stringify(chatConfig.state.inputType)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        padding: '20px',\n        overflow: 'hidden'\n      },\n      children: /*#__PURE__*/_jsxDEV(Chatbot, {\n        config: chatConfig,\n        messageParser: MessageParser,\n        actionProvider: ActionProvider\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n\n_s(TestChat, \"Y27Uy2xaTJynJgnpC7pZWh5Ndxg=\");\n\n_c = TestChat;\nexport default TestChat;\n\nvar _c;\n\n$RefreshReg$(_c, \"TestChat\");","map":{"version":3,"sources":["/Users/liuyanjun/therapy_agent/frontend/src/TestChat.js"],"names":["React","useState","useEffect","Chatbot","createChatBotMessage","MessageParser","ActionProvider","testConfig","botName","initialMessages","withAvatar","delay","state","userState","sessionID","username","inputType","currentOptionToShow","protocols","askingForProtocol","initialChoices","messages","customComponents","header","height","fontFamily","fontSize","textAlign","color","paddingTop","paddingBottom","widgets","widgetName","widgetFunc","props","console","log","display","gap","marginTop","actionProvider","handleButtons","mapStateToProps","TestChat","chatConfig","setChatConfig","flexDirection","backgroundColor","padding","boxShadow","zIndex","JSON","stringify","flex","overflow"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Chatbot } from 'react-chatbot-kit';\nimport { createChatBotMessage } from 'react-chatbot-kit';\nimport MessageParser from './MessageParser';\nimport ActionProvider from './ActionProvider';\nimport './App.css';\n\n// ç®€åŒ–çš„é…ç½®ç”¨äºæµ‹è¯•\nconst testConfig = {\n  botName: \"TestBot\",\n  initialMessages: [\n    createChatBotMessage(\"ä½ å¥½ï¼æˆ‘æ˜¯æµ‹è¯•æœºå™¨äººã€‚\", {\n      withAvatar: true,\n      delay: 0,\n    }),\n    createChatBotMessage(\"ä»Šå¤©æ„Ÿè§‰æ€ä¹ˆæ ·ï¼Ÿ\", {\n      withAvatar: true,\n      delay: 1500,\n    })\n  ],\n  state: {\n    userState: 1,\n    sessionID: \"test_session_123\",\n    username: \"test_user\",\n    inputType: [\"open_text\"],\n    currentOptionToShow: null,\n    protocols: [],\n    askingForProtocol: false,\n    initialChoices: [],\n    messages: []\n  },\n  customComponents: {\n    header: () => <div style={{height: '15px', fontFamily: 'Trebuchet MS', fontSize: \"1em\", textAlign: \"center\", color: '#fff', paddingTop: '1em', paddingBottom: '1em'}}>TestBot</div>,\n  },\n  widgets: [\n    {\n      widgetName: \"YesNo\",\n      widgetFunc: (props) => {\n        console.log('YesNo widget props:', props);\n        return (\n          <div style={{ display: 'flex', gap: '10px', marginTop: '10px' }}>\n            <button onClick={() => props.actionProvider.handleButtons(props.state.userState, props.state.sessionID, \"Yes\", [\"yes\", \"no\"])}>Yes</button>\n            <button onClick={() => props.actionProvider.handleButtons(props.state.userState, props.state.sessionID, \"No\", [\"yes\", \"no\"])}>No</button>\n          </div>\n        );\n      },\n      mapStateToProps: [\"userState\", \"sessionID\"],\n    },\n  ],\n};\n\nconst TestChat = () => {\n  const [chatConfig, setChatConfig] = useState(testConfig);\n\n  useEffect(() => {\n    console.log('TestChat component mounted');\n    console.log('Chat config:', chatConfig);\n  }, [chatConfig]);\n\n  return (\n    <div style={{ \n      height: '100vh', \n      display: 'flex', \n      flexDirection: 'column',\n      backgroundColor: '#f5f5f5'\n    }}>\n      <div style={{ \n        padding: '20px', \n        backgroundColor: 'white', \n        boxShadow: '0 2px 4px rgba(0,0,0,0.1)',\n        zIndex: 1000\n      }}>\n        <h1>ğŸ§ª èŠå¤©æœºå™¨äººæµ‹è¯•é¡µé¢</h1>\n        <p>è¿™æ˜¯ä¸€ä¸ªç®€åŒ–çš„æµ‹è¯•é¡µé¢ï¼Œç”¨äºéªŒè¯react-chatbot-kitæ˜¯å¦æ­£å¸¸å·¥ä½œ</p>\n        <div style={{ marginTop: '10px' }}>\n          <strong>æµ‹è¯•ä¿¡æ¯:</strong>\n          <ul>\n            <li>ç”¨æˆ·ID: {chatConfig.state.userState}</li>\n            <li>ä¼šè¯ID: {chatConfig.state.sessionID}</li>\n            <li>ç”¨æˆ·å: {chatConfig.state.username}</li>\n            <li>è¾“å…¥ç±»å‹: {JSON.stringify(chatConfig.state.inputType)}</li>\n          </ul>\n        </div>\n      </div>\n      \n      <div style={{ \n        flex: 1, \n        padding: '20px',\n        overflow: 'hidden'\n      }}>\n        <Chatbot\n          config={chatConfig}\n          messageParser={MessageParser}\n          actionProvider={ActionProvider}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default TestChat;"]},"metadata":{},"sourceType":"module"}